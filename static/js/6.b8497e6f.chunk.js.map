{"version":3,"sources":["components/common/FormsControls/FormsControls.js","components/profile/CreatePost/CreatePost.module.css","utils/validators/validators.js","hoc/withAuthRedirect.js","components/dialogs/Dialogs.module.css","components/dialogs/Dialogs.jsx","components/dialogs/DialogItem/DialogItem.jsx","components/dialogs/Message/Message.jsx","components/dialogs/DialogsContainer.jsx"],"names":["FormControl","input","meta","touched","error","children","className","classes","errorSpan","Textarea","props","child","Input","CreateField","placeholder","name","validators","component","type","validate","module","exports","requiredField","value","maxLengthCreator","length","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","maxLength","CreateMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","send","Field","content","button","Dialogs","dialogs","messages","dialogItems","message","sendMessage","DialogItem","path","person","id","dialog","activeClassName","active","MessageItem","text","compose","dialogsPage","map","Message","newMessageText","dispatch","newMessageBody","sendMessageActionCreator"],"mappings":"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","file":"static/js/6.b8497e6f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport classes from \"../../profile/CreatePost/CreatePost.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    return (\r\n        <div>\r\n            {children}\r\n            {touched && error ? <p className={classes.errorSpan}>{error}</p> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = ({input, child, ...props}) => {\r\n    return <FormControl {...props}><textarea {...input} {...props}/></FormControl>\r\n}\r\n\r\nexport const Input = ({input, child, ...props}) => {\r\n    return <FormControl {...props}><input {...input} {...props}/></FormControl>\r\n}\r\n\r\nexport const CreateField = (placeholder, name, validators, component, type = {}) => {\r\n    return (\r\n        <div>\r\n            <Field placeholder={placeholder}\r\n                   name={name}\r\n                   validate={[...validators]}\r\n                   component={component}\r\n                   {...type}\r\n            />\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"create\":\"CreatePost_create__kaLHl\",\"content\":\"CreatePost_content__1Othh\",\"error\":\"CreatePost_error__1L6ua\",\"button\":\"CreatePost_button__1YmJ5\",\"errorSpan\":\"CreatePost_errorSpan__BTLrF\"};","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = length => value => {\r\n    if (value.length > length) return `Max length can be only ${length} symbols`\r\n    return undefined\r\n}","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToPropsForRedirect = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\n\r\nexport const withAuthRedirect = Component => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__6QiwF\",\"dialogItems\":\"Dialogs_dialogItems__3P5IH\",\"dialog\":\"Dialogs_dialog__1o0cE\",\"active\":\"Dialogs_active__bXMHa\",\"messages\":\"Dialogs_messages__3vaAx\",\"message\":\"Dialogs_message__YMuZy\",\"send\":\"Dialogs_send__3QwYz\",\"content\":\"Dialogs_content__xUpI3\",\"button\":\"Dialogs_button__PH3Vi\"};","import classes from \"../dialogs/Dialogs.module.css\"\r\nimport React from \"react\";\r\nimport {Redirect} from \"react-router-dom\"\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\n\r\n\r\nconst maxLength = maxLengthCreator(100)\r\n\r\nconst Dialogs = props => {\r\n    const dialogs = props.dialogs\r\n    const messages = props.messages\r\n\r\n    const send = message => {\r\n        props.sendMessage(message.message)\r\n    }\r\n\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n    return (\r\n        <div className={classes.dialogs}>\r\n            <div className={classes.dialogItems}>\r\n                {dialogs}\r\n            </div>\r\n            <div className={classes.messages}>\r\n                {messages}\r\n                <CreateMessageReduxForm onSubmit={send}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CreateMessageForm = props => {\r\n    return (\r\n        <form name='message' onSubmit={props.handleSubmit}>\r\n            <div className={classes.send}>\r\n                <Field component={Textarea} validate={[requiredField, maxLength]} name={'message'}\r\n                       placeholder='Type here' className={classes.content}/>\r\n                <button className={classes.button}>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst CreateMessageReduxForm = reduxForm({form: 'dialogMessage'})(CreateMessageForm)\r\n\r\nexport default Dialogs","import classes from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = props => {\r\n    const path = '/dialogs/' + props.person.id\r\n\r\n    return (\r\n        <div className={classes.dialog}>\r\n            <NavLink className={classes.dialog} to={path} activeClassName={classes.active}>{props.person.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem","import classes from \"../Dialogs.module.css\";\r\n\r\nconst MessageItem = props => {\r\n    return (\r\n        <div className={classes.message}>\r\n            {props.message.id + '   ' + props.message.text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageItem","import React from \"react\";\r\nimport {sendMessageActionCreator} from \"../../redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport MessageItem from \"./Message/Message\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        dialogs: state.dialogsPage.dialogs.map(dialog => <DialogItem person={dialog}/>),\r\n        messages: state.dialogsPage.messages.map(message => <MessageItem message={message}/>),\r\n        newMessageText: state.dialogsPage.newMessageText,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        sendMessage: newMessageBody => dispatch(sendMessageActionCreator(newMessageBody))\r\n    }\r\n}\r\n\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs)"],"sourceRoot":""}