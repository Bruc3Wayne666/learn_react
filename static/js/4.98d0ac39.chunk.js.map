{"version":3,"sources":["components/profile/CreatePost/CreatePost.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","hoc/withAuthRedirect.js","components/profile/Presentation/Presentation.module.css","components/profile/Presentation/Info/ProfileStatus.module.css","components/profile/MyPosts/post/Post.module.css","components/profile/MyPosts/MyPosts.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/profile/Presentation/Info/ProfileStatusWithHooks.jsx","components/profile/Presentation/Presentation.jsx","components/profile/MyPosts/post/Post.jsx","components/profile/MyPosts/MyPosts.jsx","components/profile/MyPosts/MyPostsContainer.jsx","components/profile/CreatePost/CreatePost.jsx","components/profile/CreatePost/CreatePostContainer.jsx","components/profile/Profile.jsx","components/profile/ProfileContainer.jsx"],"names":["module","exports","FormControl","input","meta","touched","error","children","className","classes","errorSpan","Textarea","props","child","Input","requiredField","value","maxLengthCreator","length","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","info","name","onDoubleClick","autoFocus","onChange","e","currentTarget","onBlur","updateStatus","Presentation","profile","presentation","avatar","src","photos","large","alt","fullName","Preloader","Post","post","text","likes","likesCount","MyPosts","posts","MyPostsContainer","profilePage","reverse","map","maxLength","CreatePostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","validate","placeholder","content","button","CreatePost","create","addPost","CreatePostContainer","newPostText","dispatch","newPostBody","addPostActionCreator","Profile","ProfileContainer","userId","match","params","authorizedUserId","history","getProfile","getStatus","staus","compose","withRouter"],"mappings":"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","file":"static/js/4.98d0ac39.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"create\":\"CreatePost_create__kaLHl\",\"content\":\"CreatePost_content__1Othh\",\"error\":\"CreatePost_error__1L6ua\",\"button\":\"CreatePost_button__1YmJ5\",\"errorSpan\":\"CreatePost_errorSpan__BTLrF\"};","import React from \"react\";\r\nimport classes from \"../../profile/CreatePost/CreatePost.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    return (\r\n        <div>\r\n            {children}\r\n            {touched && error ? <p className={classes.errorSpan}>{error}</p> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = ({input, child, ...props}) => {\r\n    return <FormControl {...props}><textarea {...input} {...props}/></FormControl>\r\n}\r\n\r\nexport const Input = ({input, child, ...props}) => {\r\n    return <FormControl {...props}><input {...input} {...props}/></FormControl>\r\n}\r\n\r\nexport const CreateField = (placeholder, name, validators, component, type = {}) => {\r\n    return (\r\n        <div>\r\n            <Field placeholder={placeholder}\r\n                   name={name}\r\n                   validate={[...validators]}\r\n                   component={component}\r\n                   {...type}\r\n            />\r\n        </div>\r\n    )\r\n}","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = length => value => {\r\n    if (value.length > length) return `Max length can be only ${length} symbols`\r\n    return undefined\r\n}","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToPropsForRedirect = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\n\r\nexport const withAuthRedirect = Component => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"presentation\":\"Presentation_presentation__2XVyv\",\"avatar\":\"Presentation_avatar__23wDA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"ProfileStatus_info__1r4a8\",\"name\":\"ProfileStatus_name__22Vib\",\"input\":\"ProfileStatus_input__HqJ2N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3BH9M\",\"likes\":\"Post_likes__2xKvo\",\"avatar\":\"Post_avatar__3Y-Xs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__1Iqi4\"};","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import classes from \"./ProfileStatus.module.css\";\r\nimport React, {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => setStatus(props.status), [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.info}>\r\n                <h3 className={classes.name}>\r\n                    {props.name}\r\n                </h3>\r\n                {!editMode && <div><p onDoubleClick={activateEditMode}>{props.status || '................'}</p></div>}\r\n                {editMode && <div><input className={classes.input} autoFocus={true} onChange={onChange} onBlur={deactivateEditMode} value={status}/></div>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks","import classes from \"../Presentation/Presentation.module.css\";\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./Info/ProfileStatusWithHooks\";\r\n\r\nconst Presentation = ({profile, status, updateStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.presentation}>\r\n            <div>\r\n                <img className={classes.avatar} src={profile.photos.large || 'https://www.enduresc.com.au/wordpress/wp-content/uploads/2018/05/user-profile.jpg'} alt=\"llll\"/>\r\n            </div>\r\n            <ProfileStatusWithHooks name={profile.fullName} status={status} updateStatus={updateStatus}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Presentation","import classes from \"./Post.module.css\";\r\n\r\nconst Post = props => {\r\n    return (\r\n        <div className={classes.post}>\r\n            <img className={classes.avatar} src={'https://social-network.samuraijs.com/activecontent/images/users/2/user-small.jpg?v=0'} alt=\"ava\"/>\r\n            {props.post.text}\r\n            <span className={classes.likes}>Likes: {props.post.likesCount}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import classes from \"./MyPosts.module.css\";\r\n\r\nconst MyPosts = props => {\r\n    const posts = props.posts\r\n\r\n    return (\r\n        <div className={classes.posts}>\r\n            <h3>My posts</h3>\r\n            {posts}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts","import Post from \"./post/Post\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        posts: [...state.profilePage.posts]\r\n            .reverse()\r\n            .map(post => <Post post={post} />),\r\n        // avatar: state.profilePage.profile.photos.small\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import classes from \"../CreatePost/CreatePost.module.css\"\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\n\r\nconst maxLength = maxLengthCreator(80)\r\n\r\nconst CreatePost = props => {\r\n    const post = post => {\r\n        props.addPost(post.text)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.create}>\r\n            <CreatePostReduxForm onSubmit={post} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CreatePostForm = props => {\r\n    return (\r\n        <form name={'post'} onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <label>New post</label>\r\n                <Field component={Textarea} validate={[requiredField, maxLength]} placeholder='Type here' name={'text'} className={classes.content} />\r\n            </div>\r\n            <div>\r\n                <button className={classes.button}>Create</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst CreatePostReduxForm = reduxForm({form: 'post'})(CreatePostForm)\r\n\r\nexport default CreatePost","import {addPostActionCreator} from \"../../../redux/profileReducer\";\r\nimport CreatePost from \"./CreatePost\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        addPost: newPostBody => dispatch(addPostActionCreator(newPostBody))\r\n    }\r\n}\r\n\r\nconst CreatePostContainer = connect(mapStateToProps, mapDispatchToProps)(CreatePost)\r\n\r\nexport default CreatePostContainer","import Presentation from \"./Presentation/Presentation\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport CreatePostContainer from \"./CreatePost/CreatePostContainer\";\r\n\r\n\r\nconst Profile = props => {\r\n    return (\r\n        <section>\r\n            <Presentation profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <CreatePostContainer />\r\n            <MyPostsContainer />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Profile","import Profile from \"./Profile\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getStatus, updateStatus} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\"\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n            if (!userId) this.props.history.push('/login')\r\n        }\r\n        this.props.getProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} profile={this.props.profile} staus={this.props.status} updateStatus={this.props.updateStatus}/>\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\n\r\n export default compose(withRouter, withAuthRedirect, connect(mapStateToProps, {getProfile, getStatus, updateStatus}))(ProfileContainer)"],"sourceRoot":""}