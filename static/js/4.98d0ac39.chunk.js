(this["webpackJsonpreact-easy"]=this["webpackJsonpreact-easy"]||[]).push([[4],{222:function(t,e,n){t.exports={create:"CreatePost_create__kaLHl",content:"CreatePost_content__1Othh",error:"CreatePost_error__1L6ua",button:"CreatePost_button__1YmJ5",errorSpan:"CreatePost_errorSpan__BTLrF"}},223:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return p}));n(27);var r=n(3),s=n(227),a=(n(0),n(222)),c=n.n(a),o=(n(104),n(2)),i=["input","child"],u=["input","child"],j=function(t){t.input;var e=t.meta,n=e.touched,r=e.error,s=t.children;return Object(o.jsxs)("div",{children:[s,n&&r?Object(o.jsx)("p",{className:c.a.errorSpan,children:r}):null]})},l=function(t){var e=t.input,n=(t.child,Object(s.a)(t,i));return Object(o.jsx)(j,Object(r.a)(Object(r.a)({},n),{},{children:Object(o.jsx)("textarea",Object(r.a)(Object(r.a)({},e),n))}))},p=function(t){var e=t.input,n=(t.child,Object(s.a)(t,u));return Object(o.jsx)(j,Object(r.a)(Object(r.a)({},n),{},{children:Object(o.jsx)("input",Object(r.a)(Object(r.a)({},e),n))}))}},225:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));var r=function(t){if(!t)return"Field is required"},s=function(t){return function(e){if(e.length>t)return"Max length can be only ".concat(t," symbols")}}},226:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(3),s=n(34),a=n(35),c=n(37),o=n(36),i=n(7),u=n(0),j=n.n(u),l=n(24),p=n(2),b=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){Object(c.a)(u,e);var n=Object(o.a)(u);function u(){return Object(s.a)(this,u),n.apply(this,arguments)}return Object(a.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(t,Object(r.a)({},this.props)):Object(p.jsx)(i.a,{to:"/login"})}}]),u}(j.a.Component);return Object(l.b)(b)(e)}},291:function(t,e,n){t.exports={presentation:"Presentation_presentation__2XVyv",avatar:"Presentation_avatar__23wDA"}},292:function(t,e,n){t.exports={info:"ProfileStatus_info__1r4a8",name:"ProfileStatus_name__22Vib",input:"ProfileStatus_input__HqJ2N"}},293:function(t,e,n){t.exports={post:"Post_post__3BH9M",likes:"Post_likes__2xKvo",avatar:"Post_avatar__3Y-Xs"}},294:function(t,e,n){t.exports={posts:"MyPosts_posts__1Iqi4"}},298:function(t,e,n){"use strict";n.r(e);var r=n(3),s=n(34),a=n(35),c=n(37),o=n(36),i=n(291),u=n.n(i),j=n(45);var l=n(63);function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,s=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(i){s=!0,a=i}finally{try{r||null==o.return||o.return()}finally{if(s)throw a}}return n}}(t,e)||Object(l.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=n(292),f=n.n(b),d=n(0),h=n.n(d),O=n(2),x=function(t){var e=p(Object(d.useState)(!1),2),n=e[0],r=e[1],s=p(Object(d.useState)(t.status),2),a=s[0],c=s[1];Object(d.useEffect)((function(){return c(t.status)}),[t.status]);return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:f.a.info,children:[Object(O.jsx)("h3",{className:f.a.name,children:t.name}),!n&&Object(O.jsx)("div",{children:Object(O.jsx)("p",{onDoubleClick:function(){r(!0)},children:t.status||"................"})}),n&&Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:f.a.input,autoFocus:!0,onChange:function(t){c(t.currentTarget.value)},onBlur:function(){r(!1),t.updateStatus(a)},value:a})})]})})},v=function(t){var e=t.profile,n=t.status,r=t.updateStatus;return e?Object(O.jsxs)("div",{className:u.a.presentation,children:[Object(O.jsx)("div",{children:Object(O.jsx)("img",{className:u.a.avatar,src:e.photos.large||"https://www.enduresc.com.au/wordpress/wp-content/uploads/2018/05/user-profile.jpg",alt:"llll"})}),Object(O.jsx)(x,{name:e.fullName,status:n,updateStatus:r})]}):Object(O.jsx)(j.a,{})},m=n(27),_=n(293),y=n.n(_),S=function(t){return Object(O.jsxs)("div",{className:y.a.post,children:[Object(O.jsx)("img",{className:y.a.avatar,src:"https://social-network.samuraijs.com/activecontent/images/users/2/user-small.jpg?v=0",alt:"ava"}),t.post.text,Object(O.jsxs)("span",{className:y.a.likes,children:["Likes: ",t.post.likesCount]})]})},P=n(294),g=n.n(P),N=function(t){var e=t.posts;return Object(O.jsxs)("div",{className:g.a.posts,children:[Object(O.jsx)("h3",{children:"My posts"}),e]})},w=n(24),k=Object(w.b)((function(t){return{posts:Object(m.a)(t.profilePage.posts).reverse().map((function(t){return Object(O.jsx)(S,{post:t})}))}}))(N),C=n(58),A=n(222),I=n.n(A),T=n(104),M=n(105),J=n(225),L=n(223),q=Object(J.a)(80),B=Object(M.a)({form:"post"})((function(t){return Object(O.jsxs)("form",{name:"post",onSubmit:t.handleSubmit,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"New post"}),Object(O.jsx)(T.a,{component:L.b,validate:[J.b,q],placeholder:"Type here",name:"text",className:I.a.content})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:I.a.button,children:"Create"})})]})})),D=function(t){return Object(O.jsx)("div",{className:I.a.create,children:Object(O.jsx)(B,{onSubmit:function(e){t.addPost(e.text)}})})},F=Object(w.b)((function(t){return{newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){return t(Object(C.a)(e))}}}))(D),H=function(t){return Object(O.jsxs)("section",{children:[Object(O.jsx)(v,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(O.jsx)(F,{}),Object(O.jsx)(k,{})]})},z=n(7),E=n(226),U=n(23),V=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return Object(O.jsx)(H,Object(r.a)(Object(r.a)({},this.props),{},{profile:this.props.profile,staus:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(h.a.Component);e.default=Object(U.d)(z.f,E.a,Object(w.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfile:C.c,getStatus:C.d,updateStatus:C.e}))(V)}}]);
//# sourceMappingURL=4.98d0ac39.chunk.js.map